{"version":3,"file":"main.7ebd1e3dc3593cf9fa19.js","mappings":"mBAAA,MAAMA,EAAQC,SAASC,eAAe,WAChCC,EAAaF,SAASG,cAAc,gBAQ7BC,EAAaA,KACxBL,EAAMM,MAAMC,QAAU,OACtBN,SAASO,KAAKF,MAAMG,SAAW,MAAM,EAQ1BC,EAAaA,KACxBP,EAAWG,MAAMC,QAAU,OAC3BN,SAASO,KAAKF,MAAMG,SAAW,MAAM,ECrBjCE,EAAaV,SAASW,iBAAiB,yBACvCC,EAAaZ,SAASG,cAAc,gBAQpCU,EAAWA,KACf,MAAMC,EAAWF,EAAWG,MACtBC,EAAcC,MAAMC,KAAKR,GAAYS,QACxCC,GAA0B,KAAhBA,EAAML,QAWnB,OARAL,EAAWW,SAASD,IACE,KAAhBA,EAAML,MACRK,EAAME,UAAUC,IAAI,SAEpBH,EAAME,UAAUE,OAAO,QACzB,IAGyB,IAAvBR,EAAYS,SAlBL,oDACDC,KAAKC,OAqBIb,GArBUc,gBAyB7BhB,EAAWU,UAAUE,OAAO,UAErB,IALLZ,EAAWU,UAAUC,IAAI,UAClB,GAIE,EA/BAvB,SAASG,cAAc,kBAkC/B0B,iBAAiB,SAAUhB,GAChC,UChCMH,EAAaV,SAASW,iBAAiB,yBCEvCmB,EAAU9B,SAASC,eAAe,WAClC8B,EAAQ/B,SAASG,cAAc,iBAC/B6B,EAAOhC,SAASG,cAAc,kBACjBH,SAASG,cAAc,uBAE/B0B,iBAAiB,QAASpB,GAErCsB,EAAMF,iBAAiB,QAASzB,GAEhC0B,EAAQD,iBAAiB,SHbCI,IACxBlC,EAAMM,MAAMC,QAAU,OACtBN,SAASO,KAAKF,MAAMG,SAAW,SAC/ByB,EAAEC,gBAAgB,IGYpBC,OAAON,iBAAiB,SHMeI,IACjCA,EAAEG,SAAWrC,GACfK,IAEE6B,EAAEG,SAAWlC,GACfO,GACF,IGVFuB,EAAKH,iBAAiB,UDbHQ,UAGjB,GAFAJ,EAAEC,iBACcrB,IACH,CACX,MAAMyB,QAAYC,MAAM,6CAA8C,CACpEC,OAAQ,OACRjC,KAAMkC,KAAKC,UAAU,CACnBC,SAAUV,EAAEG,OAAO,GAAGrB,MACtB6B,MAAOX,EAAEG,OAAO,GAAGrB,MACnB8B,QAASZ,EAAEG,OAAO,GAAGrB,QAEvB+B,QAAS,CACP,eAAgB,2CAGFR,EAAIS,SAEpBrC,EAAWW,SAASD,GAAUA,EAAML,MAAQ,KAC5CX,IFVJF,EAAWG,MAAMC,QAAU,OAC3BN,SAASO,KAAKF,MAAMG,SAAW,SEY/B,I","sources":["webpack://d-element/./src/js/modal.js","webpack://d-element/./src/js/validate.js","webpack://d-element/./src/js/form.js","webpack://d-element/./src/index.js"],"sourcesContent":["const modal = document.getElementById('myModal');\nconst popupModal = document.querySelector('.modal-popup');\n\nexport const openModal = (e) => {\n  modal.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n  e.preventDefault();\n};\n\nexport const closeModal = () => {\n  modal.style.display = 'none';\n  document.body.style.overflow = 'auto';\n};\n\nexport const openPopup = () => {\n  popupModal.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n};\n\nexport const closePopup = () => {\n  popupModal.style.display = 'none';\n  document.body.style.overflow = 'auto';\n};\n\nexport const closeOnBackgroundClick = (e) => {\n  if (e.target === modal) {\n    closeModal();\n  }\n  if (e.target === popupModal) {\n    closePopup();\n  }\n};\n","const formInputs = document.querySelectorAll('.modal__window--input');\nconst inputEmail = document.querySelector('.input-email');\nconst form = document.querySelector('.modal__window');\n\nconst validateEmail = (email) => {\n  const re = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9_-]+)/;\n  return re.test(String(email).toLowerCase());\n};\n\nconst validate = () => {\n  const emailVal = inputEmail.value;\n  const emptyInputs = Array.from(formInputs).filter(\n    (input) => input.value === '',\n  );\n\n  formInputs.forEach((input) => {\n    if (input.value === '') {\n      input.classList.add('error');\n    } else {\n      input.classList.remove('error');\n    }\n  });\n\n  if (emptyInputs.length !== 0) {\n    return false;\n  }\n\n  if (!validateEmail(emailVal)) {\n    inputEmail.classList.add('error');\n    return false;\n  }\n  inputEmail.classList.remove('error');\n\n  return true;\n};\n\nform.addEventListener('change', validate);\nexport default validate;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\nimport { closeModal, openPopup } from './modal';\nimport validate from './validate';\n\nconst formInputs = document.querySelectorAll('.modal__window--input');\n\nconst submitForm = async (e) => {\n  e.preventDefault();\n  const isValid = validate();\n  if (isValid) {\n    const req = await fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      body: JSON.stringify({\n        fullName: e.target[0].value,\n        email: e.target[1].value,\n        message: e.target[2].value,\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n      },\n    });\n    const res = await req.json();\n    if (res) {\n      formInputs.forEach((input) => input.value = '');\n      closeModal();\n      openPopup();\n    }\n  }\n};\n\nexport default submitForm;\n","import './styles/index.scss';\n\nimport {\n  closeModal, openModal, closePopup, closeOnBackgroundClick,\n} from './js/modal';\nimport submitForm from './js/form';\n\nconst openBtn = document.getElementById('btnTalk');\nconst close = document.querySelector('.modal__close');\nconst form = document.querySelector('.modal__window');\nconst popupClose = document.querySelector('.modal-popup__close');\n\npopupClose.addEventListener('click', closePopup);\n\nclose.addEventListener('click', closeModal);\n\nopenBtn.addEventListener('click', openModal);\n\nwindow.addEventListener('click', closeOnBackgroundClick);\n\nform.addEventListener('submit', submitForm);\n"],"names":["modal","document","getElementById","popupModal","querySelector","closeModal","style","display","body","overflow","closePopup","formInputs","querySelectorAll","inputEmail","validate","emailVal","value","emptyInputs","Array","from","filter","input","forEach","classList","add","remove","length","test","String","toLowerCase","addEventListener","openBtn","close","form","e","preventDefault","window","target","async","req","fetch","method","JSON","stringify","fullName","email","message","headers","json"],"sourceRoot":""}